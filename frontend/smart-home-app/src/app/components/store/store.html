
<h2>Products</h2>
<div class="product-list" *ngIf="(products$ | async) as products; else loadingProducts">
  <div *ngFor="let product of products" class="product-item">
    <img [src]="product.imageUrl || 'assets/placeholder.png'" alt="{{product.name}}" width="100">
    <h3>{{ product.name }}</h3>
    <p>{{ product.description }}</p>
    <p>Price: \${{ product.price }}</p>
    <button (click)="addToCart(product)">Add to Cart</button>
  </div>
</div>
<ng-template #loadingProducts><p>Loading products...</p></ng-template>

<h2>Shopping Cart</h2>
<div *ngIf="(cart$ | async) as cartItems">
  <div *ngIf="cartItems.length === 0; else cartNotEmpty">
    Your cart is empty.
  </div>
  <ng-template #cartNotEmpty>
    <div *ngFor="let item of cartItems" class="cart-item">
      <span>{{ item.name }}</span>
      <span>\${{ item.price }}</span>
    </div>
    <p>Total: \${{ calculateTotal(cartItems) }}</p>
    <button (click)="clearCart()">Clear Cart</button>
  </ng-template>
</div>
